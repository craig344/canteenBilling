<div class="container-fluid">
    <!-- Page Content -->
    <h1>Bill Page</h1>
    <hr>
    <p>Generate bills</p>
    
  <div class="input-group mb-3">
    <input type="text" class="form-control" placeholder="Search" id="search">
  </div>

  <div class="modal" id="addItem">
    <div class="modal-dialog">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Add new item to menu</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          <form action="/action_page.php" class="needs-validation">

            <div class="form-group">
              <label for="iname">Item Name:</label>
              <input type="text" class="form-control" id="newItemName" placeholder="Enter Item Name" name="iname"
                required>
              <div class="valid-feedback">Valid.</div>
              <div class="invalid-feedback">Please fill out this field.</div>
            </div>

            <div class="form-group">
              <label for="description">Description:</label>
              <input type="text" class="form-control" id="newDescription" placeholder="Enter Description"
                name="description">
            </div>

            <div class="form-group">
              <label for="description">Categories:</label>
              <input type="text" class="form-control" id="newCategory" placeholder="Enter Categories" name="description"
                required>
              <div class="valid-feedback">Valid.</div>
              <div class="invalid-feedback">Please Enter Categories Separated by a Comma(",")</div>
            </div>

            <div class="form-group">
              <label for="price">Price:</label>
              <input type="number" class="form-control" id="newPrice" placeholder="Enter Price" name="price" required>
              <div class="valid-feedback">Valid.</div>
              <div class="invalid-feedback">Please Enter the price of the item.</div>
            </div>
          </form>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" onclick="validate();">Add</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>

  <div id="alerts">
  </div>

  <!-- The Modal -->
  <div class="modal" id="confirmDelete">
    <div class="modal-dialog">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Are you sure you want to delete this item?</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body" id="delBody">
        </div>

        <!-- Modal footer -->
        <div class="modal-footer" id="delFooter">
          <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="clearDel();">Don't Delete</button>
        </div>

      </div>
    </div>
  </div>

  <table class="table table-hover" id="menu">
    <thead>
      <tr>
        <th id="name"><a href="#">Item Name</a></th>
        <th id="price"><a href="#">Price</a></th>
        <th>Quantity</th>
        <th></th>
      </tr>
    </thead>
    <tbody>

    </tbody>
  </table>
  <script>

window.onloadend = loaditems();
    function loaditems() {
      var table = $("#menu tbody");
      table.find("tr").remove();
      const itemModel = require('./../models/item');
      itemModel.getAll(function (response) {
        for (var i = 0; i < response.data.items.length; i++) {
          table.append(
            "<tr id = '" + response.data.items[i].id + "'>\n" +
            "<td>" + response.data.items[i].name + "</td>\n" +
            "<td>" + response.data.items[i].price + "</td>\n" +
            "<td><div class='input-group input-group-sm'><input type='number' class='form-control' value='1'></div></td>"+
            "<td><button type=\"button\" class=\"btn btn-primary btn-sm float-right\">Add</button></td>"+
            "</tr>\n"
          );
        }
      });
    }

        /*----------------SAMPLE CODES-------------*/
        /* sample code on how to insert order*/
        /*const orderModel = require('./../models/orders');
        var order = {
         total:'0',
         item_count:'0'
        };
   
        orderModel.create(order, function (response) {
          console.log(response);
        });*/

        /*--- sample code on get all orders*/
        /*const orderModel = require('./../models/orders');
        orderModel.getAll(function (response) {
            console.log(response);
        });*/

        /*--- sample code on get data by order id*/
        /*const orderModel = require('./../models/orders');
        order = {
            id: '1'
        }
        orderModel.getbyId(order, function (response) {
            console.log(response);
        });*/


        /* sample code on how to insert order ITEM*/
       /* const orderItemModel = require('./../models/order_items');
        var order_item = {
            order_id: '1',
            item_id: '2',
            quantity: '1',
            rate: '45'
        };
        orderItemModel.create(order_item, function (response) {
            console.log(response);
        });*/

        /* sample code on how to insert order ITEMS in BULK*/
       /* const orderItemModel = require('./../models/order_items');
        let order_items_arr = [];
        var order_item1 = {
            order_id: '1',
            item_id: '4',
            quantity: '1',
            rate: '45'
        };
        var order_item2 = {
            order_id: '1',
            item_id: '3',
            quantity: '1',
            rate: '50'
        };
        order_items_arr.push(order_item1);
        order_items_arr.push(order_item2);
        orderItemModel.createMultiple(order_items_arr, function (response) {
            console.log(response);
        });*/

    </script>
</div>
<!-- /.container-fluid -->